{
  "title": "Asset_manager",
  "type": "object",
  "additionalProperties": false,
  "definitions": {
    "Config": {
      "title": "Config",
      "type": "object",
      "required": [
        "engine",
        "type"
      ],
      "order":["type", "engine"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "type": "string",
          "pattern": "^config$",
          "default": "config"
        },
        "engine": {
          "type": "string",
          "default": "AssetManagerEngine"
        }
      }
    },
    "Plugin": {
      "title": "Plugin",
      "type": "object",
      "additionalProperties": false,
      "required": [
        "name",
        "plugin",
        "type",
        "plugin_type",
        "_results"
      ],
      "order":["type", "plugin_type", "name", "description", "plugin", "options"],
      "properties": {
        "type": {
          "type": "string",
          "pattern": "^plugin$",
          "default": "plugin"
        },
        "plugin_type": {
          "type": "string",
          "pattern": "^base$",
          "default": "base"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "plugin": {
          "type": "string"
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "options": {
          "type": "object",
          "default": {}
        },
        "_results": {
          "type": "array",
          "default": [],
          "items": {}
        }
      }
    },
    "Action": {
      "title": "Action",
      "type": "object",
      "required": [
        "name",
        "stages",
        "type"
      ],
      "order": [
        "type",
        "name",
        "stages"
      ],
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "pattern": "^component$",
          "default": "component"
        },
        "optional": {
          "type": "boolean",
          "default": false
        },
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "update": {
          "type": "array",
          "items": {
            "allOf": [{"$ref": "#/definitions/Plugin"}],
            "properties": {
                "plugin_type": {
                  "pattern": "^update$",
                  "default": "update"
                },
                "ui_callback": {
                  "type": "string",
                  "default": "ctx_update"
                }
              }
          },
          "minItems": 1
        },
        "select": {
          "type": "array",
          "items": {
            "allOf": [{"$ref": "#/definitions/Plugin"}],
            "properties": {
                "plugin_type": {
                  "pattern": "^select$",
                  "default": "select"
                },
                "ui_callback": {
                  "type": "string",
                  "default": "ctx_select"
                }
              }
          },
          "minItems": 1
        },
        "delete": {
          "type": "array",
          "items": {
            "allOf": [{"$ref": "#/definitions/Plugin"}],
            "properties": {
                "plugin_type": {
                  "pattern": "^delete$",
                  "default": "delete"
                },
                "ui_callback": {
                  "type": "string",
                  "default": "ctx_remove"
                }
              }
          },
          "minItems": 1
        }
      }
    }
  },
  "required": [
    "name",
    "host",
    "type",
    "discover",
    "menu_actions",
    "_config"
  ],
  "order":[
    "type", "name", "host", "discover", "menu_actions"
  ],
  "properties": {
    "type": {
      "type": "string",
      "pattern": "^asset_manager$",
      "default": "asset_manager$"
    },
    "name": {
      "type": "string"
    },
    "host": {
      "type": "string",
      "default": null
    },
    "ui": {
      "type": "string",
      "default": null
    },
    "discover": {
      "type": "array",
      "items": {
        "allOf": [{"$ref": "#/definitions/Plugin"}],
        "properties": {
            "plugin_type": {
              "pattern": "^discover$",
              "default": "discover"
            }
          }
      },
      "minItems": 1,
      "maxItems": 1
    },
    "actions": {
      "$ref": "#/definitions/Action"
    },
    "_config": {
      "$ref": "#/definitions/Config",
      "default": {}
    }
  }
}